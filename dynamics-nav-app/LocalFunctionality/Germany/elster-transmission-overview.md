---
title: "ELSTER-Übermittlung – Übersicht"
description: "Wenn ein Benutzer eine Umsatzsteuervoranmeldung von [!INCLUDE[navnow](../../includes/navnow_md.md)] an das Onlineportal „Elektronische Steuererklärungen (ELSTER)” übermittelt, verarbeitet die Microsoft.Dynamics.ElsterTransferHandler-Assembly das Dokument und übermittelt es dann an ELSTER. Im nächsten Abschnitt werden technische Aspekte der Übermittlung von Dokumenten an ELSTER beschrieben."
documentationcenter: 
author: SorenGP
ms.prod: dynamics-nav-2017
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 07/01/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: 4fefaef7380ac10836fcac404eea006f55d8556f
ms.openlocfilehash: 4adc7edf5c4a719c573885d236d04296757dfecc
ms.contentlocale: de-de
ms.lasthandoff: 10/16/2017

---
# <a name="elster-transmission-overview"></a><span data-ttu-id="2f831-104">ELSTER-Übermittlung – Übersicht</span><span class="sxs-lookup"><span data-stu-id="2f831-104">ELSTER Transmission Overview</span></span>
<span data-ttu-id="2f831-105">Wenn ein Benutzer eine Umsatzsteuervoranmeldung von [!INCLUDE[navnow](../../includes/navnow_md.md)] an das Onlineportal „Elektronische Steuererklärungen (ELSTER)” übermittelt, verarbeitet die Microsoft.Dynamics.ElsterTransferHandler-Assembly das Dokument und übermittelt es dann an ELSTER.</span><span class="sxs-lookup"><span data-stu-id="2f831-105">When a user submits a sales VAT advance notification from [!INCLUDE[navnow](../../includes/navnow_md.md)] to the Elektronische Steuererklärungen (ELSTER) online portal, the Microsoft.Dynamics.ElsterTransferHandler assembly processes the document and then transmits it to ELSTER.</span></span> <span data-ttu-id="2f831-106">Im nächsten Abschnitt werden technische Aspekte der Übermittlung von Dokumenten an ELSTER beschrieben.</span><span class="sxs-lookup"><span data-stu-id="2f831-106">The following section describes technical aspects of submitting documents to ELSTER.</span></span>  
  
### <a name="process-overview"></a><span data-ttu-id="2f831-107">Prozess – Überblick</span><span class="sxs-lookup"><span data-stu-id="2f831-107">Process Overview</span></span>  
  
1.  <span data-ttu-id="2f831-108">Innerhalb des Programms werden alle relevanten Daten erfasst und in ein XML-Dokument geschrieben, das einem von der Oberfinanzdirektion (OFD) vorgegebenen Schema entspricht.</span><span class="sxs-lookup"><span data-stu-id="2f831-108">Within the program all relevant data is collected and written into an XML document which follows a schema as prescribed by the Oberfinanzdirektion (OFD).</span></span> <span data-ttu-id="2f831-109">Dieses Dokument enthält Steuerdaten sowie Informationen zu dem Unternehmen und der Person, die diese Steuerdaten übermittelt.</span><span class="sxs-lookup"><span data-stu-id="2f831-109">This document contains tax information as well as information about the company and person who submits this tax information.</span></span>  
  
2.  <span data-ttu-id="2f831-110">Nachdem dieses Dokument erfolgreich erstellt wurde, wird es um Konfigurationsinformationen (Proxyserver, Zertifikate usw.) erweitert, die von Microsoft.Dynamics.ElsterTransferHandler benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="2f831-110">After this document has been created successfully it is extended with configuration information (proxy server, certificates, and so forth) which is needed by Microsoft.Dynamics.ElsterTransferHandler.</span></span>  
  
3.  <span data-ttu-id="2f831-111">Das vollständige Dokument wird an Microsoft.Dynamics.ElsterTransferHandler übergeben.</span><span class="sxs-lookup"><span data-stu-id="2f831-111">The complete document is handed over to Microsoft.Dynamics.ElsterTransferHandler.</span></span> <span data-ttu-id="2f831-112">Die Assembly führt eine weitere Verarbeitung der Daten aus (Verschlüsselung, Komprimierung, Signatur) und sendet diese an einen der Server der OFD.</span><span class="sxs-lookup"><span data-stu-id="2f831-112">The assembly further processes the data (encryption, compression, signature) and sends it to one of the servers of the OFD.</span></span>  
  
     <span data-ttu-id="2f831-113">Sie können die Servern der OFD im Fenster **Elektronische Umsatzsteuererklärung – Einrichtung** angeben.</span><span class="sxs-lookup"><span data-stu-id="2f831-113">You can specify the servers of the OFD in the **Electronic VAT Decl. Setup** window.</span></span> <span data-ttu-id="2f831-114">Weitere Informationen finden Sie unter [Gewusst wie: Einrichten von Umsatzsteuervoranmeldungen für ELSTER](how-to-set-up-sales-vat-advance-notifications-for-elster.md)</span><span class="sxs-lookup"><span data-stu-id="2f831-114">For more information, see [How to: Set Up Sales VAT Advance Notifications for ELSTER](how-to-set-up-sales-vat-advance-notifications-for-elster.md)</span></span>  
  
4.  <span data-ttu-id="2f831-115">Die Daten werden vom Server der OFD empfangen und verarbeitet, und ein Antwortdokument wird zurückgesendet.</span><span class="sxs-lookup"><span data-stu-id="2f831-115">The data is received and processed by the server of the OFD and a response document is sent back.</span></span>  
  
5.  <span data-ttu-id="2f831-116">Das Antwortdokument wird von Microsoft.Dynamics.ElsterTransferHandler empfangen, entschlüsselt und dekomprimiert und als XML-Dokument an [!INCLUDE[navnow](../../includes/navnow_md.md)] zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="2f831-116">The response document is received, decrypted, and decompressed by Microsoft.Dynamics.ElsterTransferHandler and returned as an XML document to [!INCLUDE[navnow](../../includes/navnow_md.md)].</span></span> <span data-ttu-id="2f831-117">Sie können dann die Antworten in dem Fenster **MwSt.-Übertragungsprotokollposten** anzeigen.</span><span class="sxs-lookup"><span data-stu-id="2f831-117">You can then view the responses in the **VAT Transmission Log Entries** window.</span></span>  
  
## <a name="process-details"></a><span data-ttu-id="2f831-118">Verarbeiten von Details</span><span class="sxs-lookup"><span data-stu-id="2f831-118">Process Details</span></span>  
 <span data-ttu-id="2f831-119">Die Microsoft.Dynamics.ElsterTransferHandler-Assembly ist für die Aufbereitung vor der Übermittlung an die OFD sowie die Verarbeitung des Antwortdokuments vor der Rückgabe an das Programm zuständig.</span><span class="sxs-lookup"><span data-stu-id="2f831-119">The Microsoft.Dynamics.ElsterTransferHandler assembly is responsible for preparation before the transmission to the OFD and the processing of the response document before it is returned to the program.</span></span>  
  
### <a name="compression"></a><span data-ttu-id="2f831-120">Komprimierung</span><span class="sxs-lookup"><span data-stu-id="2f831-120">Compression</span></span>  
 <span data-ttu-id="2f831-121">Das verwendete Komprimierungsverfahren ist GZIP.</span><span class="sxs-lookup"><span data-stu-id="2f831-121">The used method for compression is GZIP.</span></span> <span data-ttu-id="2f831-122">Eine Komprimierungsmethode, die Datenintegrität anhand einer Redundanzprüfung gewährleistet.</span><span class="sxs-lookup"><span data-stu-id="2f831-122">A compression method which assures data integrity using a redundancy check.</span></span> <span data-ttu-id="2f831-123">Weitere Informationen finden Sie unter [System.IO.Compression.GZipStream](http://go.microsoft.com/fwlink/?LinkId=200710) in MSDN-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="2f831-123">For more information, see [System.IO.Compression.GZipStream](http://go.microsoft.com/fwlink/?LinkId=200710) on the MSDN Library.</span></span> <span data-ttu-id="2f831-124">Bestimmte Teile der Dokumente werden mithilfe des GZIP-Verfahrens komprimiert.</span><span class="sxs-lookup"><span data-stu-id="2f831-124">Certain parts of the documents are compressed with the GZIP method.</span></span>  
  
 <span data-ttu-id="2f831-125">Das Antwortdokument wird ebenfalls mithilfe dieses Verfahrens komprimiert.</span><span class="sxs-lookup"><span data-stu-id="2f831-125">The response document is also compressed using this method.</span></span> <span data-ttu-id="2f831-126">Der Handler muss die Daten vor der Rückgabe an die Anwendung dekomprimieren.</span><span class="sxs-lookup"><span data-stu-id="2f831-126">The Handler has to decompress the data before it is returned to the program.</span></span>  
  
### <a name="encryption"></a><span data-ttu-id="2f831-127">Verschlüsselung</span><span class="sxs-lookup"><span data-stu-id="2f831-127">Encryption</span></span>  
 <span data-ttu-id="2f831-128">Der Standard, der für Verschlüsselung verwendet wird, lautet PKCS#7v1.5.</span><span class="sxs-lookup"><span data-stu-id="2f831-128">The standard which is used for encryption is PKCS#7v1.5.</span></span> <span data-ttu-id="2f831-129">Weitere Informationen finden Sie unter [System.Security.Cryptography.Pkcs.EnvelopedCms](http://go.microsoft.com/fwlink/?LinkId=200708) in der MSDN-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="2f831-129">For more information, see [System.Security.Cryptography.Pkcs.EnvelopedCms](http://go.microsoft.com/fwlink/?LinkId=200708) on the MSDN Library.</span></span> <span data-ttu-id="2f831-130">Mit diesem Verfahren werden nicht nur die Daten, sondern auch Empfängerinformationen in Form eines Zertifikats von der OFD verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="2f831-130">This method not only encrypts the data but also encrypts a recipient information in terms of a certificate from the OFD.</span></span> <span data-ttu-id="2f831-131">Diese Verschlüsselung basiert auf einer asymmetrischen Methode, durch das sichergestellt ist, dass die Daten nur vom Empfänger entschlüsselt werden können.</span><span class="sxs-lookup"><span data-stu-id="2f831-131">This encryption is based upon an asymmetric method which ensures that the data can only be decrypted by the recipient.</span></span> <span data-ttu-id="2f831-132">Die Daten werden mit einem Teil des Zertifikats verschlüsselt, der öffentlich zugänglich ist (PublicKey), und können ausschließlich mit dem nicht öffentlichen Teil des Zertifikats (PrivateKey) entschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="2f831-132">The data is encrypted with a part of the certificate which is publicly accessible (PublicKey) and can be decrypted exclusively with the non public part of the certificate (PrivateKey).</span></span> <span data-ttu-id="2f831-133">Darüber hinaus müssen die Empfängerinformationen aus der Verschlüsselung dem Empfängerzertifikat entsprechen.</span><span class="sxs-lookup"><span data-stu-id="2f831-133">Additionally, the recipient information from the encryption has to match the recipient certificate.</span></span> <span data-ttu-id="2f831-134">Dadurch ist sichergestellt, dass die Daten nur von der OFD entschlüsselt werden können.</span><span class="sxs-lookup"><span data-stu-id="2f831-134">This ensures that the data only can be decrypted by the OFD.</span></span>  
  
 <span data-ttu-id="2f831-135">Bei der Antwort wird dasselbe Verfahren verwendet.</span><span class="sxs-lookup"><span data-stu-id="2f831-135">The response uses the same method.</span></span> <span data-ttu-id="2f831-136">Zusammen mit den übertragenen Daten empfängt die OFD den öffentlichen Teil des Benutzerzertifikats, der zum Verschlüsseln des Antwortdokuments verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="2f831-136">With the transmission the OFD receives the public part of the user certificate which is used to encrypt the response document.</span></span> <span data-ttu-id="2f831-137">Dadurch ist sichergestellt, dass das Antwortdokument nur vom Empfänger entschlüsselt werden kann.</span><span class="sxs-lookup"><span data-stu-id="2f831-137">This ensures that the response document can be decrypted by the recipient only.</span></span>  
  
 <span data-ttu-id="2f831-138">Um die verschlüsselten Daten in einer textbasierten XML-Datei zu übertragen, müssen sie Base64-codiert werden.</span><span class="sxs-lookup"><span data-stu-id="2f831-138">In order to transfer the encrypted data in a text based XML file it has to be Base64 coded.</span></span> <span data-ttu-id="2f831-139">Mit dieser Methode werden binäre Daten in Textform dargestellt.</span><span class="sxs-lookup"><span data-stu-id="2f831-139">This is a method which is used to present binary data in a textual form.</span></span>  
  
### <a name="signature"></a><span data-ttu-id="2f831-140">Unterschrift</span><span class="sxs-lookup"><span data-stu-id="2f831-140">Signature</span></span>  
 <span data-ttu-id="2f831-141">Für die Signatur der Daten wird eine Methode gemäß der standardmäßigen XML-DSig verwendet.</span><span class="sxs-lookup"><span data-stu-id="2f831-141">For the signature of the data a method following the standard XML-DSig is used.</span></span> <span data-ttu-id="2f831-142">Weitere Informationen finden Sie unter [System.Security.Cryptography.Xml.SignedXml](http://go.microsoft.com/fwlink/?LinkId=200709) in der MSDN-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="2f831-142">For more information, see [System.Security.Cryptography.Xml.SignedXml](http://go.microsoft.com/fwlink/?LinkId=200709) on the MSDN Library.</span></span> <span data-ttu-id="2f831-143">Bei diesem Verfahren wird eine Signatur auf das gesamte Dokument oder einen Teil des Dokuments angewendet, der mit einem Zertifikat verschlüsselt wird.</span><span class="sxs-lookup"><span data-stu-id="2f831-143">This method applies a signature to the whole document or a part of the document which is encrypted with a certificate.</span></span> <span data-ttu-id="2f831-144">Bei Verwendung dieser Verschlüsselung (auch mit einer asymmetrischen Methode) ist die Zuordnung zu einem bestimmten registrierten Benutzer durch die OFD möglich.</span><span class="sxs-lookup"><span data-stu-id="2f831-144">Using this encryption (also with an asymmetric method) allows the mapping to a certain registered user by the OFD.</span></span> <span data-ttu-id="2f831-145">Auf diese Weise kann die Datenintegrität sichergestellt und die Identität des Absenders anhand der Signatur ermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="2f831-145">Thus the integrity of the data can be assured and the identity of the sender can be determined by means of the signature.</span></span>  
  
 <span data-ttu-id="2f831-146">Die Integrität ist dadurch sichergestellt, dass bei einer Änderung des Dokuments nach dem Signieren die Signatur ungültig wird und die Daten von der OFD zurückgewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="2f831-146">The integrity is assured by the fact that if the document is changed after it has been signed the signature will become invalid and the OFD rejects the data.</span></span>  
  
 <span data-ttu-id="2f831-147">Die Identität des Absenders wird durch eine Zuordnung des Zertifikats zu einem registrierten Benutzer festgestellt.</span><span class="sxs-lookup"><span data-stu-id="2f831-147">The identity of the sender is determined by mapping the certificate to a registered user.</span></span> <span data-ttu-id="2f831-148">Es wird geprüft, ob das Zertifikat gültig ist, gesperrt ist oder andere Unregelmäßigkeiten festgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="2f831-148">It is checked if the certificate is valid, if it is locked or if other conspicuities have been noticed.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2f831-149">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="2f831-149">See Also</span></span>  
 <span data-ttu-id="2f831-150">[Fehlermeldungen des ElsterTransferHandler](error-messages-of-the-elstertransferhandler.md) </span><span class="sxs-lookup"><span data-stu-id="2f831-150">[Error Messages of the ElsterTransferHandler](error-messages-of-the-elstertransferhandler.md) </span></span>  
 <span data-ttu-id="2f831-151">[Elektronische Übermittlung der Umsatzsteuervoranmeldungen an ELSTER](electronic-submission-of-sales-vat-advance-notifications-to-elster.md) </span><span class="sxs-lookup"><span data-stu-id="2f831-151">[Electronic Submission of Sales VAT Advance Notifications to ELSTER](electronic-submission-of-sales-vat-advance-notifications-to-elster.md) </span></span>  
 <span data-ttu-id="2f831-152">[Gewusst wie: Einrichten von Umsatzsteuervoranmeldungen für ELSTER](how-to-set-up-sales-vat-advance-notifications-for-elster.md) </span><span class="sxs-lookup"><span data-stu-id="2f831-152">[How to: Set Up Sales VAT Advance Notifications for ELSTER](how-to-set-up-sales-vat-advance-notifications-for-elster.md) </span></span>  
 <span data-ttu-id="2f831-153">USt.-Voranmeldungskarte</span><span class="sxs-lookup"><span data-stu-id="2f831-153">Sales VAT Adv. Notif. Card</span></span>   
 <span data-ttu-id="2f831-154">MwSt.-Übertragungsprotokollposten</span><span class="sxs-lookup"><span data-stu-id="2f831-154">VAT Transmission Log Entries</span></span>
