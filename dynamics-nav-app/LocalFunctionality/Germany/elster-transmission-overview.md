---
title: "ELSTER-Übermittlung – Übersicht"
description: "Wenn ein Benutzer eine Umsatzsteuervoranmeldung von [!INCLUDE[navnow](../../includes/navnow_md.md)] an das Onlineportal „Elektronische Steuererklärungen (ELSTER)” übermittelt, verarbeitet die Microsoft.Dynamics.ElsterTransferHandler-Assembly das Dokument und übermittelt es dann an ELSTER."
documentationcenter: 
author: SorenGP
ms.prod: dynamics-nav-2018
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 07/01/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: 1dfba8b14019991c95f40ffd5f7fbaed5df414eb
ms.openlocfilehash: 4f82564ee076c6957af3a6d1565b19a2c7000aa3
ms.contentlocale: de-de
ms.lasthandoff: 12/01/2017

---
# <a name="elster-transmission-overview"></a><span data-ttu-id="1f9a1-103">ELSTER-Übermittlung – Übersicht</span><span class="sxs-lookup"><span data-stu-id="1f9a1-103">ELSTER Transmission Overview</span></span>
<span data-ttu-id="1f9a1-104">Wenn ein Benutzer eine Umsatzsteuervoranmeldung von [!INCLUDE[navnow](../../includes/navnow_md.md)] an das Onlineportal „Elektronische Steuererklärungen (ELSTER)” übermittelt, verarbeitet die Microsoft.Dynamics.ElsterTransferHandler-Assembly das Dokument und übermittelt es dann an ELSTER.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-104">When a user submits a sales VAT advance notification from [!INCLUDE[navnow](../../includes/navnow_md.md)] to the Elektronische Steuererklärungen (ELSTER) online portal, the Microsoft.Dynamics.ElsterTransferHandler assembly processes the document and then transmits it to ELSTER.</span></span> <span data-ttu-id="1f9a1-105">Im nächsten Abschnitt werden technische Aspekte der Übermittlung von Dokumenten an ELSTER beschrieben.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-105">The following section describes technical aspects of submitting documents to ELSTER.</span></span>  

## <a name="process-overview"></a><span data-ttu-id="1f9a1-106">Prozess – Überblick</span><span class="sxs-lookup"><span data-stu-id="1f9a1-106">Process Overview</span></span>  

1.  <span data-ttu-id="1f9a1-107">Innerhalb des Programms werden alle relevanten Daten erfasst und in ein XML-Dokument geschrieben, das einem von der Oberfinanzdirektion (OFD) vorgegebenen Schema entspricht.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-107">Within the program all relevant data is collected and written into an XML document which follows a schema as prescribed by the Oberfinanzdirektion (OFD).</span></span> <span data-ttu-id="1f9a1-108">Dieses Dokument enthält Steuerdaten sowie Informationen zu dem Unternehmen und der Person, die diese Steuerdaten übermittelt.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-108">This document contains tax information as well as information about the company and person who submits this tax information.</span></span>  
2.  <span data-ttu-id="1f9a1-109">Nachdem dieses Dokument erfolgreich erstellt wurde, wird es um Konfigurationsinformationen (Proxyserver, Zertifikate usw.) erweitert, die von Microsoft.Dynamics.ElsterTransferHandler benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-109">After this document has been created successfully it is extended with configuration information (proxy server, certificates, and so forth) which is needed by Microsoft.Dynamics.ElsterTransferHandler.</span></span>  
3.  <span data-ttu-id="1f9a1-110">Das vollständige Dokument wird an Microsoft.Dynamics.ElsterTransferHandler übergeben.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-110">The complete document is handed over to Microsoft.Dynamics.ElsterTransferHandler.</span></span> <span data-ttu-id="1f9a1-111">Die Assembly führt eine weitere Verarbeitung der Daten aus (Verschlüsselung, Komprimierung, Signatur) und sendet diese an einen der Server der OFD.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-111">The assembly further processes the data (encryption, compression, signature) and sends it to one of the servers of the OFD.</span></span>  

    <span data-ttu-id="1f9a1-112">Sie können die Servern der OFD im Fenster **Elektronische Umsatzsteuererklärung – Einrichtung** angeben.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-112">You can specify the servers of the OFD in the **Electronic VAT Decl. Setup** window.</span></span> <span data-ttu-id="1f9a1-113">Weitere Informationen finden Sie unter [Gewusst wie: Einrichten von Umsatzsteuervoranmeldungen für ELSTER](how-to-set-up-sales-vat-advance-notifications-for-elster.md)</span><span class="sxs-lookup"><span data-stu-id="1f9a1-113">For more information, see [How to: Set Up Sales VAT Advance Notifications for ELSTER](how-to-set-up-sales-vat-advance-notifications-for-elster.md)</span></span>  

4.  <span data-ttu-id="1f9a1-114">Die Daten werden vom Server der OFD empfangen und verarbeitet, und ein Antwortdokument wird zurückgesendet.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-114">The data is received and processed by the server of the OFD and a response document is sent back.</span></span>  
5.  <span data-ttu-id="1f9a1-115">Das Antwortdokument wird von Microsoft.Dynamics.ElsterTransferHandler empfangen, entschlüsselt und dekomprimiert und als XML-Dokument an [!INCLUDE[navnow](../../includes/navnow_md.md)] zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-115">The response document is received, decrypted, and decompressed by Microsoft.Dynamics.ElsterTransferHandler and returned as an XML document to [!INCLUDE[navnow](../../includes/navnow_md.md)].</span></span> <span data-ttu-id="1f9a1-116">Sie können dann die Antworten in dem Fenster **MwSt.-Übertragungsprotokollposten** anzeigen.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-116">You can then view the responses in the **VAT Transmission Log Entries** window.</span></span>  

## <a name="process-details"></a><span data-ttu-id="1f9a1-117">Verarbeiten von Details</span><span class="sxs-lookup"><span data-stu-id="1f9a1-117">Process Details</span></span>  
<span data-ttu-id="1f9a1-118">Die Microsoft.Dynamics.ElsterTransferHandler-Assembly ist für die Aufbereitung vor der Übermittlung an die OFD sowie die Verarbeitung des Antwortdokuments vor der Rückgabe an das Programm zuständig.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-118">The Microsoft.Dynamics.ElsterTransferHandler assembly is responsible for preparation before the transmission to the OFD and the processing of the response document before it is returned to the program.</span></span>  

## <a name="compression"></a><span data-ttu-id="1f9a1-119">Komprimierung</span><span class="sxs-lookup"><span data-stu-id="1f9a1-119">Compression</span></span>  
<span data-ttu-id="1f9a1-120">Das verwendete Komprimierungsverfahren ist GZIP.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-120">The used method for compression is GZIP.</span></span> <span data-ttu-id="1f9a1-121">Eine Komprimierungsmethode, die Datenintegrität anhand einer Redundanzprüfung gewährleistet.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-121">A compression method which assures data integrity using a redundancy check.</span></span> <span data-ttu-id="1f9a1-122">Weitere Informationen finden Sie unter [System.IO.Compression.GZipStream](http://go.microsoft.com/fwlink/?LinkId=200710) in MSDN-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-122">For more information, see [System.IO.Compression.GZipStream](http://go.microsoft.com/fwlink/?LinkId=200710) on the MSDN Library.</span></span> <span data-ttu-id="1f9a1-123">Bestimmte Teile der Dokumente werden mithilfe des GZIP-Verfahrens komprimiert.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-123">Certain parts of the documents are compressed with the GZIP method.</span></span>  

<span data-ttu-id="1f9a1-124">Das Antwortdokument wird ebenfalls mithilfe dieses Verfahrens komprimiert.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-124">The response document is also compressed using this method.</span></span> <span data-ttu-id="1f9a1-125">Der Handler muss die Daten vor der Rückgabe an die Anwendung dekomprimieren.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-125">The Handler has to decompress the data before it is returned to the program.</span></span>  

## <a name="encryption"></a><span data-ttu-id="1f9a1-126">Verschlüsselung</span><span class="sxs-lookup"><span data-stu-id="1f9a1-126">Encryption</span></span>  
<span data-ttu-id="1f9a1-127">Der Standard, der für Verschlüsselung verwendet wird, lautet PKCS#7v1.5.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-127">The standard which is used for encryption is PKCS#7v1.5.</span></span> <span data-ttu-id="1f9a1-128">Weitere Informationen finden Sie unter [System.Security.Cryptography.Pkcs.EnvelopedCms](http://go.microsoft.com/fwlink/?LinkId=200708) in der MSDN-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-128">For more information, see [System.Security.Cryptography.Pkcs.EnvelopedCms](http://go.microsoft.com/fwlink/?LinkId=200708) on the MSDN Library.</span></span> <span data-ttu-id="1f9a1-129">Mit diesem Verfahren werden nicht nur die Daten, sondern auch Empfängerinformationen in Form eines Zertifikats von der OFD verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-129">This method not only encrypts the data but also encrypts a recipient information in terms of a certificate from the OFD.</span></span> <span data-ttu-id="1f9a1-130">Diese Verschlüsselung basiert auf einer asymmetrischen Methode, durch das sichergestellt ist, dass die Daten nur vom Empfänger entschlüsselt werden können.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-130">This encryption is based upon an asymmetric method which ensures that the data can only be decrypted by the recipient.</span></span> <span data-ttu-id="1f9a1-131">Die Daten werden mit einem Teil des Zertifikats verschlüsselt, der öffentlich zugänglich ist (PublicKey), und können ausschließlich mit dem nicht öffentlichen Teil des Zertifikats (PrivateKey) entschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-131">The data is encrypted with a part of the certificate which is publicly accessible (PublicKey) and can be decrypted exclusively with the non public part of the certificate (PrivateKey).</span></span> <span data-ttu-id="1f9a1-132">Darüber hinaus müssen die Empfängerinformationen aus der Verschlüsselung dem Empfängerzertifikat entsprechen.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-132">Additionally, the recipient information from the encryption has to match the recipient certificate.</span></span> <span data-ttu-id="1f9a1-133">Dadurch ist sichergestellt, dass die Daten nur von der OFD entschlüsselt werden können.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-133">This ensures that the data only can be decrypted by the OFD.</span></span>  

<span data-ttu-id="1f9a1-134">Bei der Antwort wird dasselbe Verfahren verwendet.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-134">The response uses the same method.</span></span> <span data-ttu-id="1f9a1-135">Zusammen mit den übertragenen Daten empfängt die OFD den öffentlichen Teil des Benutzerzertifikats, der zum Verschlüsseln des Antwortdokuments verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-135">With the transmission the OFD receives the public part of the user certificate which is used to encrypt the response document.</span></span> <span data-ttu-id="1f9a1-136">Dadurch ist sichergestellt, dass das Antwortdokument nur vom Empfänger entschlüsselt werden kann.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-136">This ensures that the response document can be decrypted by the recipient only.</span></span>  

<span data-ttu-id="1f9a1-137">Um die verschlüsselten Daten in einer textbasierten XML-Datei zu übertragen, müssen sie Base64-codiert werden.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-137">In order to transfer the encrypted data in a text based XML file it has to be Base64 coded.</span></span> <span data-ttu-id="1f9a1-138">Mit dieser Methode werden binäre Daten in Textform dargestellt.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-138">This is a method which is used to present binary data in a textual form.</span></span>  

## <a name="signature"></a><span data-ttu-id="1f9a1-139">Unterschrift</span><span class="sxs-lookup"><span data-stu-id="1f9a1-139">Signature</span></span>  
<span data-ttu-id="1f9a1-140">Für die Signatur der Daten wird eine Methode gemäß der standardmäßigen XML-DSig verwendet.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-140">For the signature of the data a method following the standard XML-DSig is used.</span></span> <span data-ttu-id="1f9a1-141">Weitere Informationen finden Sie unter [System.Security.Cryptography.Xml.SignedXml](http://go.microsoft.com/fwlink/?LinkId=200709) in der MSDN-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-141">For more information, see [System.Security.Cryptography.Xml.SignedXml](http://go.microsoft.com/fwlink/?LinkId=200709) on the MSDN Library.</span></span> <span data-ttu-id="1f9a1-142">Bei diesem Verfahren wird eine Signatur auf das gesamte Dokument oder einen Teil des Dokuments angewendet, der mit einem Zertifikat verschlüsselt wird.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-142">This method applies a signature to the whole document or a part of the document which is encrypted with a certificate.</span></span> <span data-ttu-id="1f9a1-143">Bei Verwendung dieser Verschlüsselung (auch mit einer asymmetrischen Methode) ist die Zuordnung zu einem bestimmten registrierten Benutzer durch die OFD möglich.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-143">Using this encryption (also with an asymmetric method) allows the mapping to a certain registered user by the OFD.</span></span> <span data-ttu-id="1f9a1-144">Auf diese Weise kann die Datenintegrität sichergestellt und die Identität des Absenders anhand der Signatur ermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-144">Thus the integrity of the data can be assured and the identity of the sender can be determined by means of the signature.</span></span>  

<span data-ttu-id="1f9a1-145">Die Integrität ist dadurch sichergestellt, dass bei einer Änderung des Dokuments nach dem Signieren die Signatur ungültig wird und die Daten von der OFD zurückgewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-145">The integrity is assured by the fact that if the document is changed after it has been signed the signature will become invalid and the OFD rejects the data.</span></span>  

<span data-ttu-id="1f9a1-146">Die Identität des Absenders wird durch eine Zuordnung des Zertifikats zu einem registrierten Benutzer festgestellt.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-146">The identity of the sender is determined by mapping the certificate to a registered user.</span></span> <span data-ttu-id="1f9a1-147">Es wird geprüft, ob das Zertifikat gültig ist, gesperrt ist oder andere Unregelmäßigkeiten festgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="1f9a1-147">It is checked if the certificate is valid, if it is locked or if other conspicuities have been noticed.</span></span>  

## <a name="see-also"></a><span data-ttu-id="1f9a1-148">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="1f9a1-148">See Also</span></span>  
 <span data-ttu-id="1f9a1-149">[Fehlermeldungen des ElsterTransferHandler](error-messages-of-the-elstertransferhandler.md) </span><span class="sxs-lookup"><span data-stu-id="1f9a1-149">[Error Messages of the ElsterTransferHandler](error-messages-of-the-elstertransferhandler.md) </span></span>  
 <span data-ttu-id="1f9a1-150">[Elektronische Übermittlung der Umsatzsteuervoranmeldungen an ELSTER](electronic-submission-of-sales-vat-advance-notifications-to-elster.md) </span><span class="sxs-lookup"><span data-stu-id="1f9a1-150">[Electronic Submission of Sales VAT Advance Notifications to ELSTER](electronic-submission-of-sales-vat-advance-notifications-to-elster.md) </span></span>  
 [<span data-ttu-id="1f9a1-151">Gewusst wie: Einrichten von Umsatzsteuervoranmeldungen für ELSTER</span><span class="sxs-lookup"><span data-stu-id="1f9a1-151">How to: Set Up Sales VAT Advance Notifications for ELSTER</span></span>](how-to-set-up-sales-vat-advance-notifications-for-elster.md)

